# Minimal SNMP configuration for Centreon monitoring - generated by Ansible

# 1. Listening address
agentAddress udp:161,udp6:[::1]:161

# System information
syslocation "{{ snmp_syslocation | default('Datacenter') }}"
syscontact "{{ snmp_syscontact  | default('admin@example.com') }}"

# 3. VACM views
view systemview included .1.3.6.1.2.1.1
view systemview included .1.3.6.1.2.1.25.1
view systemview included .1.3

# 4. SNMPv2c access (RO from poller + localhost)
rocommunity public {{ snmp_poller_ip }} -V systemview
rocommunity public localhost -V systemview

# 5. Basic monitoring checks
proc sshd
proc snmpd

disk / 10%
disk /var 10%

load 12 10 5
